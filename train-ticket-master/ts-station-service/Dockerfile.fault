# 基于原有Dockerfile，添加故障注入支持
FROM openjdk:8-jre-alpine

# 设置工作目录
WORKDIR /app

# 复制应用jar包
COPY target/ts-station-service-1.0.jar app.jar

# 设置默认的环境变量（可以通过docker run时覆盖）
ENV FAULT_EMPTY_STATION_QUERY=false
ENV FAULT_STATION_QUERY_DELAY=false
ENV FAULT_DELAY_TIME_MS=10000

# 暴露端口
EXPOSE 12345

# 启动应用
CMD ["java", "-jar", "app.jar"] 